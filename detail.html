<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spot Details - PARKLY</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="js/tailwind-config.js"></script>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="bg-background text-foreground min-h-screen font-sans antialiased">

    <header class="sticky top-0 z-50 border-b border-border bg-background/80 backdrop-blur-xl px-6 py-4">
        <nav class="max-w-7xl mx-auto flex justify-between items-center">
            <a href="index.html" class="flex items-center gap-2 font-bold text-xl text-white group">
                <i data-lucide="circle-parking" class="text-primary"></i>
                <span class="tracking-tighter uppercase italic">PARK<span class="text-primary">LY</span></span>
            </a>
            <div class="flex items-center gap-4">
                <div class="flex items-center gap-2 border border-border rounded-full px-3 py-1 bg-[#1e293b]">
                    <span class="text-xs font-bold text-white">Carlos</span>
                    <span class="text-[10px] bg-blue-900/50 text-blue-300 px-1.5 rounded font-black uppercase">Driver</span>
                </div>
            </div>
        </nav>
    </header>

    <main class="max-w-6xl mx-auto px-6 py-8">
        
        <a href="search.html" class="inline-flex items-center gap-2 text-slate-400 hover:text-white mb-6 transition-colors">
            <i data-lucide="arrow-left" class="w-4 h-4"></i> Back to results
        </a>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            
            <section class="lg:col-span-2 space-y-4">
                <div class="relative h-[400px] rounded-3xl overflow-hidden border border-border group">
                    <img id="detail-image" src="" alt="Spot Main Image" class="w-full h-full object-cover">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
                    <div class="absolute top-4 right-4 bg-green-900/80 text-green-400 px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 backdrop-blur-md">
                        <i data-lucide="clock" class="w-3 h-3"></i> Available now
                    </div>
                </div>
                <div class="grid grid-cols-4 gap-4">
                    <div class="h-24 rounded-xl overflow-hidden border-2 border-primary cursor-pointer">
                        <img id="thumb-1" src="" class="w-full h-full object-cover">
                    </div>
                    <div class="h-24 rounded-xl overflow-hidden border border-border cursor-pointer opacity-60 hover:opacity-100 transition-opacity">
                        <img src="https://images.unsplash.com/photo-1590674899505-1c5c4195c60c?w=200" class="w-full h-full object-cover">
                    </div>
                </div>
            </section>

            <aside class="space-y-6">
                
                <div>
                    <h1 id="detail-name" class="text-3xl font-extrabold text-white mb-2">Loading...</h1>
                    <p id="detail-address" class="text-slate-400 flex items-center gap-2 mb-4">
                        <i data-lucide="map-pin" class="w-4 h-4"></i> ...
                    </p>
                    <div class="flex items-center gap-2">
                        <div class="flex items-center gap-1 text-yellow-500 font-bold bg-yellow-500/10 px-2 py-1 rounded-lg">
                            <i data-lucide="star" class="w-4 h-4 fill-current"></i> <span id="detail-rating">0.0</span>
                        </div>
                        <span class="text-slate-500 text-sm">(124 reviews)</span>
                    </div>
                </div>

                <div class="grid grid-cols-3 gap-2">
                    <div class="bg-card border border-primary/50 p-3 rounded-xl text-center">
                        <p class="text-[10px] text-slate-400 uppercase font-bold">Hour</p>
                        <p id="price-hour" class="text-lg font-bold text-white">$ 0</p>
                    </div>
                    <div class="bg-card border border-border p-3 rounded-xl text-center">
                        <p class="text-[10px] text-slate-400 uppercase font-bold">Day</p>
                        <p class="text-lg font-bold text-white">$ 25.000</p>
                    </div>
                    <div class="bg-card border border-border p-3 rounded-xl text-center">
                        <p class="text-[10px] text-slate-400 uppercase font-bold">Month</p>
                        <p class="text-lg font-bold text-white">$ 300.000</p>
                    </div>
                </div>

                <div class="bg-[#0f172a] border border-border rounded-2xl p-5">
                    <h3 class="text-xs font-bold text-white uppercase tracking-widest mb-4 flex items-center gap-2">
                        <i data-lucide="ruler" class="w-4 h-4 text-primary"></i> Dimensions
                    </h3>
                    <div class="grid grid-cols-2 gap-y-4 gap-x-2">
                        <div><p class="text-[10px] text-slate-500 uppercase">Width</p><p class="text-white font-semibold">2.5m</p></div>
                        <div><p class="text-[10px] text-slate-500 uppercase">Length</p><p class="text-white font-semibold">5m</p></div>
                        <div><p class="text-[10px] text-slate-500 uppercase">Height</p><p class="text-white font-semibold">2m</p></div>
                        <div><p class="text-[10px] text-slate-500 uppercase">Cells</p><p class="text-white font-semibold">20</p></div>
                    </div>
                </div>

                <div class="space-y-3">
                    <h3 class="text-xs font-bold text-slate-500 uppercase tracking-widest">Available Services</h3>
                    <div class="flex flex-wrap gap-2">
                        <span class="px-3 py-1.5 bg-card border border-border rounded-lg text-xs text-white flex items-center gap-2">
                            <i data-lucide="wind" class="w-3 h-3"></i> Vacuum
                        </span>
                        <span class="px-3 py-1.5 bg-card border border-border rounded-lg text-xs text-white flex items-center gap-2">
                            <i data-lucide="shield" class="w-3 h-3"></i> 24h Security
                        </span>
                        <span class="px-3 py-1.5 bg-card border border-border rounded-lg text-xs text-white flex items-center gap-2">
                            <i data-lucide="video" class="w-3 h-3"></i> CCTV
                        </span>
                    </div>
                </div>

                <div class="space-y-2 text-sm text-slate-400 pt-4 border-t border-border">
                    <p class="flex items-center gap-2"><i data-lucide="clock" class="w-4 h-4"></i> 5:00 AM - 11:00 PM</p>
                    <p class="flex items-center gap-2"><i data-lucide="phone" class="w-4 h-4"></i> +57 320 456 7890</p>
                </div>

                <button id="btn-reserve" class="w-full bg-primary hover:bg-blue-600 text-white font-bold py-4 rounded-xl shadow-lg shadow-primary/25 flex items-center justify-center gap-2 transition-all hover:scale-[1.02]">
                    <i data-lucide="credit-card" class="w-5 h-5"></i> Reserve and Pay
                </button>

            </aside>
        </div>
    </main>

    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
    <script>
        // Inline logic just to load data, cleaner to have in js/detail.js but keeps file count low if preferred. 
        // For strictness, create js/detail.js
        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const id = params.get('id');
            const spots = JSON.parse(localStorage.getItem('parkly_spots')) || [];
            const spot = spots.find(s => s.id == id);

            if(spot) {
                document.getElementById('detail-image').src = spot.image;
                document.getElementById('thumb-1').src = spot.image;
                document.getElementById('detail-name').innerText = spot.name;
                document.getElementById('detail-address').innerHTML += spot.address;
                document.getElementById('detail-rating').innerText = spot.rating;
                document.getElementById('price-hour').innerText = "$ " + spot.price.toLocaleString();
                
                document.getElementById('btn-reserve').onclick = () => {
                    window.location.href = `payment.html?id=${spot.id}`;
                };
            }
            lucide.createIcons();
        });
    </script>
</body>
</html>