<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book & Pay — PARKLY</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="js/tailwind-config.js"></script>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://unpkg.com/lucide@latest"></script>

    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script src="https://checkout.wompi.co/widget.js"></script>
</head>
<body class="bg-background text-foreground min-h-screen font-sans antialiased">

    <header class="sticky top-0 z-50 border-b border-border bg-background/80 backdrop-blur-xl px-6 py-4">
        <nav class="max-w-5xl mx-auto flex justify-between items-center" aria-label="Main navigation">
            <a href="index.html" aria-label="Parkly home"
                class="flex items-center gap-2 font-bold text-xl text-white group">
                <i data-lucide="circle-parking" class="text-primary group-hover:rotate-12 transition-transform" aria-hidden="true"></i>
                <span class="tracking-tighter uppercase italic">PARK<span class="text-primary">LY</span></span>
            </a>
            <div class="flex items-center gap-2 border border-border rounded-full px-3 py-1 bg-[#1e293b]"
                 role="status" aria-label="Current user">
                <span id="nav-username" class="text-xs font-bold text-white">Guest</span>
                <span id="nav-role" class="text-[10px] bg-blue-900/50 text-blue-300 px-1.5 rounded font-black uppercase">Driver</span>
            </div>
        </nav>
    </header>

    <main class="max-w-5xl mx-auto px-6 py-10">

        <nav aria-label="Booking steps" class="mb-10">
            <ol class="flex items-center justify-center list-none p-0 m-0">
                <li class="flex items-center gap-2">
                    <div class="w-8 h-8 rounded-full bg-primary/20 border-2 border-primary text-primary text-sm font-black flex items-center justify-center"
                         aria-label="Step 1: Details — completed">
                        <i data-lucide="check" class="w-4 h-4" aria-hidden="true"></i>
                    </div>
                    <span class="text-xs font-bold text-primary uppercase tracking-widest">Details</span>
                </li>
                <div class="w-16 h-px bg-primary mx-3" aria-hidden="true"></div>
                <li class="flex items-center gap-2">
                    <div class="w-8 h-8 rounded-full bg-primary text-white text-sm font-black flex items-center justify-center"
                         aria-current="step" aria-label="Step 2: Payment — current">2</div>
                    <span class="text-xs font-bold text-white uppercase tracking-widest">Payment</span>
                </li>
                <div class="w-16 h-px bg-border mx-3" id="conn2" aria-hidden="true"></div>
                <li class="flex items-center gap-2" id="step3-li">
                    <div class="w-8 h-8 rounded-full border-2 border-border text-slate-500 text-sm font-black flex items-center justify-center"
                         aria-label="Step 3: Confirmed — pending">
                        <i data-lucide="check" class="w-4 h-4" aria-hidden="true"></i>
                    </div>
                    <span class="text-xs font-bold text-slate-500 uppercase tracking-widest">Confirmed</span>
                </li>
            </ol>
        </nav>

        <div class="grid grid-cols-1 lg:grid-cols-5 gap-8">

            <section class="lg:col-span-3 space-y-6" aria-label="Payment">

                <nav aria-label="Breadcrumb">
                    <a href="#" id="btn-back-details" class="inline-flex items-center gap-2 text-slate-400 hover:text-white transition-colors text-sm">
                        <i data-lucide="arrow-left" class="w-4 h-4" aria-hidden="true"></i> Back to details
                    </a>
                </nav>

                <hgroup>
                    <h1 class="text-3xl font-extrabold text-white mb-1">Book & Pay</h1>
                    <p class="text-slate-400">Complete your payment securely through Wompi.</p>
                </hgroup>

                <div class="bg-card border border-border rounded-2xl p-6 space-y-4">
                    <div class="flex items-center gap-4">
                        <div class="w-14 h-14 rounded-2xl bg-primary/10 border border-primary/30 flex items-center justify-center text-primary" aria-hidden="true">
                            <i data-lucide="landmark" class="w-7 h-7"></i>
                        </div>
                        <div>
                            <h2 class="font-black text-white text-lg">Wompi</h2>
                            <p class="text-slate-400 text-sm">Card, Nequi, PSE, Daviplata & more</p>
                        </div>
                    </div>

                    <ul class="space-y-2 text-sm text-slate-400" aria-label="Wompi features">
                        <li class="flex items-center gap-2"><i data-lucide="shield-check" class="w-4 h-4 text-primary shrink-0" aria-hidden="true"></i> 100% secure payment with SSL encryption</li>
                        <li class="flex items-center gap-2"><i data-lucide="credit-card" class="w-4 h-4 text-primary shrink-0" aria-hidden="true"></i> Accepts all debit and credit cards</li>
                        <li class="flex items-center gap-2"><i data-lucide="smartphone" class="w-4 h-4 text-primary shrink-0" aria-hidden="true"></i> Nequi, PSE, Daviplata and digital wallets</li>
                        <li class="flex items-center gap-2"><i data-lucide="zap" class="w-4 h-4 text-primary shrink-0" aria-hidden="true"></i> Instant booking confirmation</li>
                    </ul>
                </div>

                <button id="btn-pay" type="button" class="w-full bg-primary hover:opacity-90 text-white font-bold py-4 rounded-xl shadow-lg shadow-primary/20 text-lg transition-all active:scale-[0.98] flex items-center justify-center gap-3">
                    <i data-lucide="landmark" class="w-6 h-6" aria-hidden="true"></i>
                    Pay $ <span id="btn-total">0</span> with Wompi
                </button>

            </section>

            <aside class="lg:col-span-2" aria-label="Reservation summary">
                <div class="bg-card border border-border p-6 rounded-3xl sticky top-24">

                    <h2 class="font-bold text-white mb-5 border-b border-border pb-4">Booking Summary</h2>

                    <div class="flex gap-4 mb-5">
                        <img id="summary-img" src="" alt="" class="w-20 h-20 rounded-xl object-cover bg-slate-800 shrink-0">
                        <div>
                            <p id="summary-name" class="font-bold text-white leading-tight mb-1">Loading...</p>
                            <p id="summary-address" class="text-xs text-slate-400">...</p>
                        </div>
                    </div>

                    <dl class="space-y-3 text-sm">
                        <div class="flex justify-between"><dt class="text-slate-400">Date</dt><dd id="summary-date" class="text-white font-medium">—</dd></div>
                        <div class="flex justify-between"><dt class="text-slate-400">Schedule</dt><dd id="summary-time" class="text-white font-medium">—</dd></div>
                        <div class="flex justify-between"><dt class="text-slate-400">Duration</dt><dd id="summary-duration" class="text-white font-medium">—</dd></div>
                        <div class="flex justify-between"><dt class="text-slate-400">Rate / hr</dt><dd id="summary-rate" class="text-white font-medium">—</dd></div>
                        <div class="flex justify-between"><dt class="text-slate-400">Subtotal</dt><dd id="summary-subtotal" class="text-white font-medium">—</dd></div>
                        <div class="flex justify-between"><dt class="text-slate-400">Service fee (5%)</dt><dd id="summary-fee" class="text-white font-medium">—</dd></div>
                    </dl>

                    <div class="border-t border-border mt-5 pt-4 flex justify-between items-center">
                        <span class="text-lg font-bold text-white">Total</span>
                        <output id="summary-total" class="text-2xl font-black text-primary">$ 0</output>
                    </div>

                </div>
            </aside>
        </div>
    </main>

    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
    <script src="js/payment.js"></script>
</body>
</html>